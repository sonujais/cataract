{% extends "common/base.html" %}
{% load static %}

{% block content %}
{% include 'common/navbar.html' %}
<div class="form-container d-flex justify-content-center align-items-center min-vh-100 py-4">
    <div class="form-box shadow bg-white rounded p-4" style="max-width: 400px; width: 100%;">
        <h2 class="text-center mb-4">Reset Your Password</h2>
        <form method="post">
            {% csrf_token %}
            <div class="mb-3 position-relative">
                <label for="password" class="form-label">New Password</label>
                <input type="password" name="password" class="form-control form-control-lg" id="password" placeholder="Enter new password" required>
                <button type="button" class="eye-icon position-absolute end-0 bottom-0 translate-middle-x" onclick="togglePasswordVisibility('password')">
                    <i class="fas fa-eye" id="eye-icon-password"></i>
                </button>
            </div>
            <div class="mb-3 position-relative">
                <label for="confirm_password" class="form-label">Confirm Password</label>
                <input type="password" name="confirm_password" class="form-control form-control-lg" id="confirm_password" placeholder="Confirm new password" required>
                <button type="button" class="eye-icon position-absolute end-0 bottom-0 translate-middle-x" onclick="togglePasswordVisibility('confirm_password')">
                    <i class="fas fa-eye" id="eye-icon-confirm_password"></i>
                </button>
            </div>
            <div class="text-center mb-3">
                <button type="submit" class="btn btn-primary btn-lg">Reset</button>
            </div>
        </form>
        <div class="text-center mt-3">
            <p><a href="{% url 'login' %}">Back to Log In</a></p>
        </div>
    </div>
</div>
<script>
function togglePasswordVisibility(fieldId) {
    var field = document.getElementById(fieldId);
    var eyeIcon = document.getElementById('eye-icon-' + fieldId);
    if (field.type === "password") {
        field.type = "text";
        eyeIcon.classList.remove('fa-eye');
        eyeIcon.classList.add('fa-eye-slash');
    } else {
        field.type = "password";
        eyeIcon.classList.remove('fa-eye-slash');
        eyeIcon.classList.add('fa-eye');
    }
}
</script>
{% include 'common/footer.html' %}
{% endblock %}
